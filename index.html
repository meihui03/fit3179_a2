<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&display=swap" rel="stylesheet">


    <!-- Import Vega & Vega-Lite (does not have to be from CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.5.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
    
    <!-- CSS file -->
    <link rel="stylesheet" type="text/css" href="idioms.css" media="all">
</head>
<body>
    <!-- Wrap the contents in a div with the class "page" -->
    <div class="page">
        <h1>Blood Donations in Malaysia (2006-2024)</h1>

        
        <div class="left-aligned-container">
            <p>Blood donation trends across Malaysia from 2006 to 2024, with a focus on regional disparities and overall donation growth.</p>
            
            <p>The darkest shade, particularly in the area of Peninsular Malaysia, such as <span class="darkbrown-text">Kuala Lumpur</span>, indicates the <span class="darkbrown-text">highest donation rates</span>. Kuala Lumpur benefits from better accessibility to blood donation centers, a larger urban population, and more established healthcare infrastructures that encourage higher donation participation. Following closely is <span class="brown-text">Melaka</span>, which also shows <span class="brown-text">high donation rates</span> due to similar factors contributing to an active donor base.</p>
                
            <p>In contrast, regions in East Malaysia, including Sabah and Sarawak, are displayed in lighter shades. This suggests lower donation rates, potentially due to challenges posed by geographic isolation, lower population density, and limited access to medical facilities.</p>
                        
            <p>The donation rates in East Malaysia, while moderate, reveal a gap compared to the more densely populated regions in the west. This discrepancy may also highlight the logistical difficulties in organizing large-scale blood donation campaigns in these areas.</p>

        </div>
        
        
        <div id="choropleth_map"></div>

        <h2>New Donors Based on Age Group Over Time</h2>
        <div class="left-aligned-container">
            <p>The age group <span class="blue-text">17-24</span>  consistently shows the highest number of new donors, peaking around 2008 with <span class="blue-text">over 170,000 donors</span> , before gradually declining after 2015. Despite the drop in recent years, it remains the largest contributor to new donations.
                The <span class="lightblue-text">25-29 </span>and <span class="orange-text">30-34 </span> age groups follow, with more stable trends but at much lower donation levels.
            </p>
            <p>
                Older age groups, such as <span class="green-text">45-49</span> and above, contribute less, with relatively flat trends throughout the period. The chart reveals a significant decline 
                in donations across all age groups in 2015 and 2019, potentially pointing to challenges in donor recruitment or other external factors affecting donation rates.
            </p>
        </div>
        
        <div id="multiseries_line"></div>
        <!-- <div id="linechart"></div> -->

        <div class="two-column-container">
            <div class="left-text">
                <h2>Total Donations by Blood Type</h2>
                <p>The blood type O has the highest total donations. These blood types show significant contributions from both <span class="cream-text">Centre</span> and <span class="lightblue-text">Mobile</span> locations.
                </p>
                <p>
                    Blood type A also has a substantial number of donations, with a fairly even split between the two locations.
                AB donations are significantly lower than the other blood types.
                </p>
            </div>
        
            <div class="right-text">
                <h2>Total Donations by Blood Donation Type</h2>
                <p> The Whole Blood donation type stands out with the <span class="yellow-text">highest number of donations</span>.</p>
                <p>Other donation types, such as Apheresis Platelet, Apheresis Plasma and Other, show significantly fewer donations compared to Whole Blood.</p>
            </div>
        </div>
        
        <!-- <div class="piecharts-container">
            <div id="location_piechart"></div>
            <div id="type_blood_donation_piechart"></div>
        </div> -->

        <!-- <div id="bloodtype_isotype"></div> -->

        <div class="charts-container">
            <div id="bloodtype_chart"></div>
            <div id="lolilpopchart"></div>
        </div>

        <!-- <div id="bloodtype_chart"></div>

        <div id="lolilpopchart"></div> -->


          <p class="left-aligned-links">
            This visualisation is created by Lok Mei Hui. <br> 
            Data Source: <br>
            <a href="https://data.moh.gov.my/data-catalogue/blood_donations_state?state=sabah&blood_type=a&visual=table" target="_blank">
                https://data.moh.gov.my/data-catalogue/blood_donations_state?state=sabah&blood_type=a&visual=table
              </a> (10th October 2024, Ministry of Health, Malaysia) <br>

            <a href="https://github.com/MoH-Malaysia/covid19-public/blob/main/static/population.csv" target="_blank">
              https://github.com/MoH-Malaysia/covid19-public/blob/main/static/population.csv
            </a>(10th July 2022, MoH Malaysia)<br>
            
            <a href="https://github.com/MoH-Malaysia/data-darah-public/blob/main/donations_state.csv" target="_blank">
              https://github.com/MoH-Malaysia/data-darah-public/blob/main/donations_state.csv
            </a>(9th October 2024, MoH Malaysia)
        </p>
        
          
    </div>

    


    <script>
        var vg_1 = "js/choropleth_map.json";
        vegaEmbed("#choropleth_map", vg_1).then(function(result) {

        }).catch(console.error);

        var vg_2 = "js/multiseries_line.json";
        vegaEmbed("#multiseries_line", vg_2).then(function(result) {

        }).catch(console.error);

        var vg_3 = "js/linechart.json";
        vegaEmbed("#linechart", vg_3).then(function(result) {

        }).catch(console.error);

        // var vg_3 = "js/location_piechart.json";
        // vegaEmbed("#location_piechart", vg_3).then(function(result) {

        // }).catch(console.error);

        // var vg_4 = "js/bloodtype_piechart.json";
        // vegaEmbed("#type_blood_donation_piechart", vg_4).then(function(result) {

        // }).catch(console.error);

        var vg_6 = "js/lolilpopchart.json";
        vegaEmbed("#lolilpopchart", vg_6).then(function(result) {

        }).catch(console.error);

        var vg_7 = "js/bloodtype_chart.json";
        vegaEmbed("#bloodtype_chart", vg_7).then(function(result) {

        }).catch(console.error);

    </script>
</body>
</html>
